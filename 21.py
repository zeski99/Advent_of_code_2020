print((lambda a,d:[[(lambda k,v: d.update({k:set(v) & d[k]}) if k in d else d.update({k:set(v)}))(k,h[0]) for k in h[1]] for h in a]*0 or (lambda u: (sum([len([1 for e in h[0] if not e in u]) for h in a]), (lambda:[[[d.update({h: d[h] - d[k]}) for h in d if h != k] for k in d if len(d[k]) == 1] for i in d]*0 or ",".join([d[k].pop() for k in sorted(d.keys())]))()))(set().union(*d.values())))([(h[:h.index("(")].split(), h[h.index("(")+10:-2].split(", ")) for h in open("21").readlines()], dict()))