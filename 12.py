print((lambda h: (lambda f, *x: f(f,*x))(lambda g, p, s, c, i, a, q, w: (int(abs(p.real) + abs(p.imag)), int(abs(q.real + abs(q.imag)))) if i == len(a) else g(g, p + (1j * ((a[i][0] == "N") - (a[i][0] == "S"))  + (a[i][0] == "E") - (a[i][0] == "W") +(a[i][0] == "F") * s[c]) * int(a[i][1:]),s, (c + ((a[i][0] == "R") - (a[i][0] == "L")) * (int(a[i][1:]) // 90)) % 4, i+1, a,q + (a[i][0] == "F") * w * int(a[i][1:]),(w + (1j * ((a[i][0] == "N") - (a[i][0] == "S"))  + (a[i][0] == "E") - (a[i][0] == "W")) * int(a[i][1:])) * (-1j)**(((((a[i][0] == "R") - (a[i][0] == "L")) * int(a[i][1:])) // 90) % 4),), 0, [1, -1j, -1, 1j], 0, 0, h, 0, 10 + 1j))(open("12").readlines()))