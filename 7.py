print((lambda r:(sum([(lambda a:lambda v:a(a,v))(lambda s,x:True if"shinygold"in r[x]else sum([s(s, b)for b in r[x]])>0)(KEKW)for KEKW in r]),(lambda a, v:a(a,v))(lambda s,x:sum([(s(s,xD)+1)*r[x][xD] for xD in r[x]]), "shinygold")))({"".join(h[0].split()):{k.split()[1]+k.split()[2]:int(k.split()[0])for k in h[1].split(",")if not"no other"in k}for h in[h.split("contain")for h in open("7").read()[:-1].replace("bags","").replace("bag","").replace(".","").split("\n")]}))